<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>ä¿®æ”¹å›¾ä¹¦æ ‡é¢˜ä¸åˆ†ç±»</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <nav style="margin-bottom: 20px;">
    <a href="/">ğŸ“š å›¾ä¹¦åˆ—è¡¨</a> |
    <a href="/register">ğŸ“ æ³¨å†Œ</a> |
    <a href="/add_book">ğŸ“– å‘å¸ƒå›¾ä¹¦</a> |
    <a href="/orders">ğŸ“¦ æˆ‘çš„è®¢å•</a> |
    <a href="/book_types_view">ğŸ“‚ å›¾ä¹¦åˆ†ç±»</a> |
    <a href="/update_user">âš™ï¸ ä¿®æ”¹ç”¨æˆ·</a> |
    <a href="/delete_user">ğŸ—‘ï¸ åˆ é™¤ç”¨æˆ·</a>
  </nav>

  <h2>ä¿®æ”¹å›¾ä¹¦æ ‡é¢˜ä¸åˆ†ç±»</h2>
  <input type="number" id="bookId" placeholder="å›¾ä¹¦ ID" />
  <input type="number" id="userId" placeholder="å–å®¶ ID" />
  <input type="text" id="title" placeholder="æ–°ä¹¦å" />
  <input type="number" id="typeId" placeholder="åˆ†ç±» ID" />
  <button onclick="updateBook()">æäº¤</button>
  <div id="msg" class="msg"></div>

  <script>
    async function updateBook() {
      const res = await fetch(`/books/${bookId.value}/basic`, {
        method: 'PUT',
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          user_id: Number(userId.value),
          title: title.value,
          type_id: Number(typeId.value)
        })
      });
      const result = await res.json();
      msg.textContent = result.message || result.error;
    }
  </script>
</body>
</html>
