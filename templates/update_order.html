<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="UTF-8">
  <title>ä¿®æ”¹è®¢å•çŠ¶æ€</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body>
  <nav style="margin-bottom: 20px;">
    <a href="/">ğŸ“š å›¾ä¹¦åˆ—è¡¨</a> |
    <a href="/register">ğŸ“ æ³¨å†Œ</a> |
    <a href="/add_book">ğŸ“– å‘å¸ƒå›¾ä¹¦</a> |
    <a href="/orders">ğŸ“¦ æˆ‘çš„è®¢å•</a> |
    <a href="/book_types_view">ğŸ“‚ å›¾ä¹¦åˆ†ç±»</a> |
    <a href="/update_user">âš™ï¸ ä¿®æ”¹ç”¨æˆ·</a> |
    <a href="/delete_user">ğŸ—‘ï¸ åˆ é™¤ç”¨æˆ·</a>
  </nav>

  <h2>ä¿®æ”¹è®¢å•çŠ¶æ€</h2>
  <input type="number" id="orderId" placeholder="è®¢å• ID" />
  <input type="number" id="userId" placeholder="ç”¨æˆ· ID" />
  <select id="status">
    <option value="pending">å¾…å¤„ç†</option>
    <option value="completed">å·²å®Œæˆ</option>
    <option value="cancelled">å·²å–æ¶ˆ</option>
  </select>
  <button onclick="updateOrder()">æäº¤</button>
  <div id="msg" class="msg"></div>

  <script>
    async function updateOrder() {
      const res = await fetch(`/orders/${orderId.value}`, {
        method: 'PUT',
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({
          user_id: Number(userId.value),
          status: status.value
        })
      });
      const result = await res.json();
      msg.textContent = result.message || result.error;
    }
  </script>
</body>
</html>
